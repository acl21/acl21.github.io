<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Quaternions: Basic Algebra | Akshay L Chandra </title> <meta name="author" content="Akshay L Chandra"> <meta name="description" content="A brief introduction to quaternions and their basic algebra"> <meta name="keywords" content="akshay, chandra, lagandula, uni-freiburg, freiburg, iith, robot learning, reinforcement learning, computer vision, machine learning, deep learning, active learning"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon-32x32.png?ee479f4bc90761b2e635f862e6b84d55"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://akshaychandra.com/blog/2023/quaternion-basics/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Quaternions: Basic Algebra",
            "description": "A brief introduction to quaternions and their basic algebra",
            "published": "September 23, 2023",
            "authors": [
              
              {
                "author": "Akshay L Chandra",
                "authorURL": "https://akshaychandra.com",
                "affiliations": [
                  {
                    "name": "University of Freiburg, Germany",
                    "url": ""
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Akshay</span> L Chandra </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Home </a> </li> <li class="nav-item "> <a class="nav-link" href="/research/">Research </a> </li> <li class="nav-item "> <a class="nav-link" href="/github/">GitHub </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Quaternions: Basic Algebra</h1> <p>A brief introduction to quaternions and their basic algebra</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#motivation">Motivation</a> </div> <div> <a href="#history">History</a> </div> <div> <a href="#definition">Definition</a> </div> <div> <a href="#"></a> </div> <ul> <li> <a href="#quick-comparison-with-complex-numbers">Quick Comparison with Complex Numbers</a> </li> <li> <a href="#an-example-for-clarity">An Example for Clarity</a> </li> </ul> <div> <a href="#quaternion-models">Quaternion Models</a> </div> <div> <a href="#"></a> </div> <ul> <li> <a href="#four-dimensional-vectors">Four-Dimensional Vectors</a> </li> <li> <a href="#two-by-two-matrices">Two-By-Two Matrices</a> </li> <li> <a href="#scaler-vector">Scaler + Vector</a> </li> </ul> <div> <a href="#quaternion-algebra">Quaternion Algebra</a> </div> <div> <a href="#"></a> </div> <ul> <li> <a href="#addition">Addition</a> </li> <li> <a href="#multiplication">Multiplication</a> </li> <li> <a href="#complex-conjugate">Complex Conjugate</a> </li> <li> <a href="#norm">Norm</a> </li> <li> <a href="#inverse">Inverse</a> </li> </ul> </nav> </d-contents> <blockquote> <p><strong>Citation Note:</strong> For this article, I have borrowed many things, sometimes “as is”, from:</p> <ul> <li>Prof. Jack B. Kuipers’ seminal 1999 book <d-cite key="kuipers1999quaternions"></d-cite> </li> <li>Prof. Hans-Peter Schröcker’s talk<d-cite key="schroecker2022iros"></d-cite> at IROS 2022</li> <li>Prof. Andrew Hanson’s book on quaternions<d-cite key="visquat"></d-cite> </li> <li>Section I of Keith Conrad’s notes<d-cite key="conrad-quat-algebras"></d-cite>.</li> </ul> </blockquote> <blockquote> <p>This article merely reproduces their work, perhaps put together concisely in one place. My motivation to write this is twofold - to provide robotics practitioners a one-stop-shop entry point to quaternions and challenge/improve my understanding of them. I claim no expertise in this topic but found it so fascinating that I decided to write about it.</p> </blockquote> <blockquote> <p><strong>Prerequisites:</strong> This is [1/3] article in my series on quaternions. For this article, I assume no familiarity with quaternions, to the point that some parts may come across as pedantic. I do not, however, talk about representing 3D rotations via quaternions in this one, I leave that to my next article<d-cite key="quat-rot-op1"></d-cite>. My goal here is only to ensure readers get comfortable with the idea of quaternion addition, multiplication, conjugate, and norm.</p> </blockquote> <hr> <h2 id="motivation">Motivation</h2> <p>Quaternions can efficiently represent rotations in 3D Euclidean space. Alternatively, one can turn to Euler angles<d-cite key="eulerangles"></d-cite> or to \(3 \times 3\) orthogonal matrices with determinant \(1\) i.e., rotation matrices<d-cite key="rotmat"></d-cite><d-cite key="rotmat2d"></d-cite><d-cite key="rotmat3d"></d-cite>. While rotation matrices are great in their own right, for their nine elements, they have only three degrees of freedom (redundant information) and lack geometric interpretation in their natural form<d-footnote>Well, determining rotation axis and angle need a few steps of calculations.</d-footnote>. On the other hand, a quaternion is a 4-tuple that represents 3D rotations but with a more concise form with <em>arguably</em> better geometric interpretations. It elegantly sidesteps the Gimbal Lock and ambiguity problems of Euler angles<d-cite key="visquat"></d-cite><d-cite key="eulerproblems"></d-cite><d-cite key="eulerproblems2"></d-cite> and numerical error accumulation problems of rotation matrices. Quaternions also provide a natural way of interpolating between orientations.</p> <p>To that end, I refer the readers to Chapter 2 of Prof. Andrew Hanson’s book “Visualizing Quaternions”<d-cite key="visquat"></d-cite> where he rigorously discusses how both NASA astronauts and Hollywood film directors may prefer quaternions over other representations.</p> <h2 id="history">History</h2> <p>Quaternions were introduced by W. R. Hamilton in 1843<d-cite key="hamilton1844quaternions"></d-cite>. The complex number we learn in highschool is a sum \(a+ib\) with \(a, b \in \mathbb{R}\) and \(i^2 = -1\). Addition and multiplication rules are given by</p> \[\begin{aligned} (a + ib) + (c + id) &amp; = (a + b) + (b + d)i \\ (a + ib)(c + id) &amp; = (ac - bd) + (ad + bc)i \end{aligned}\] <p>Hamilton avoided explaining what \(i\) is by declaring \(a+ib\) as ordered pairs \((a,b) \in \mathbb{R}^2\) with the following rules</p> \[\begin{aligned} (a, b) + (c, d) &amp; = (a + c, b + d) \\ (a, b)(c, d) &amp; = (ac - bd)(ad + bc) \\ (a, b) + (0, 0) &amp; = (a, b) \quad \text{(Additive identity)} \\ (a, b)(1, 0) &amp; = (a, b) \quad \text{(Multiplicative identity)} \end{aligned}\] <p>So \((a,b) = (a,0) + (0,b) = a(1,0) + b(0,1)\) is essentially \(a+ib\) if we define \(i\) as \((0, 1)\). While trying to extend this to three dimensions and find triples \((a, b, c)\), he instead discovered a way to multiply in four dimensions at the cost of abandoning commutativity of multiplcation<d-cite key="conrad-quat-algebras"></d-cite>. Legend has it that the idea to add the fourth dimension struck him while walking with his wife Helen at the Royal Irish Academy, and that he noted down the quaternion equations as they passed the Broom Bridge<d-cite key="broom"></d-cite> of the Royal Canal. A stone plaque at the exact location carved with the following equations was later commemorated:</p> \[i^2 = j^2 = k^2 = ijk = -1\] <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blog/William_Rowan_Hamilton_Plaque.jpg" sizes="95vw"></source> <img src="/assets/img/blog/William_Rowan_Hamilton_Plaque.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" style=" max-width: 240; max-height: 190; " data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Source: Wikipedia</figcaption> </figure> <p>If mathematics and its history interests you, I refer you to this YouTube video by “Kathy Loves Physics and History”<d-cite key="kathy-quat-history"></d-cite>. In a subsequent video, she explains how the discovery of quaternions (with Maxwell’s equations) ultimately led to Vector Analysis<d-cite key="kathy-quat-history2"></d-cite>.</p> <h2 id="definition">Definition</h2> <p>The quaternions are</p> \[\mathbb{H} = \{a + bi + cj + dk: a, b, c, d \in \mathbb{R}\},\] <p>where the following rules are imposed:</p> <ul> <li> \[i^2 = j^2 = k^2 = -1 \hspace{50cm}\] </li> <li> \[ij=k, ji=-k, jk=i, kj=-i, ki=j, ki=j, ik=-j \hspace{50cm}\] </li> <li>every \(a \in \mathbb{R}\) commutes with \(i, j, k\)</li> </ul> <p>One could always look at the circle below to remember the multiplicative rules of \(i, j, k\). Products following the below order get a plus sign, otherwise a minus sign, \(e.g., ij = k\) and \(ji = -k\).</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blog/ijk.jpg" sizes="95vw"></source> <img src="/assets/img/blog/ijk.jpg" class="img-fluid rounded z-depth-1" width="100" height="100" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Source: Keith Conrad</figcaption> </figure> <h3 id="quick-comparison-with-complex-numbers">Quick Comparison with Complex Numbers</h3> <table> <tbody> <tr> <td>Complex Numbers \(\mathbb{C}\)</td> <td>\(c = a +bi, \quad a,b \in \mathbb{R}, \quad i^2=-1\)</td> </tr> <tr> <td>Complex Conjugate</td> <td>\(c^{\ast} = a -bi\)</td> </tr> <tr> <td>Real Part</td> <td>\(\text{Re}(c) = \frac{1}{2}(c + c^{\ast}) = a\)</td> </tr> <tr> <td>Imaginary Part</td> <td>\(\text{Im}(c) = \frac{1}{2}(c - c^{\ast}) = b\)</td> </tr> <tr> <td>Quadrance and Norm</td> <td>\(cc^{\ast} = a^2 + b^2, \quad \Vert c \Vert = \sqrt{cc^{\ast}}\)</td> </tr> <tr> <td>Inverse</td> <td>\(c^{-1} = \frac{c^{\ast}}{cc^{\ast}}\)</td> </tr> </tbody> </table> <p>Even though we haven’t seen how two quaternions add and multiply in detail, the following table summarizes most of theis article in a concise way.</p> <table> <tbody> <tr> <td>Quaternions \(\mathbb{H}\)</td> <td>\(\mathbf{q} = q_0 + q_1i + q_2j + q_3k, \ q_n \in \mathbb{R}, \ i^2 = j^2 = k^2 = ijk = -1\)</td> </tr> <tr> <td>Complex Conjugate</td> <td>\(\mathbf{q}^{\ast} = q_0 - q_1i - q_2j - q_3k\)</td> </tr> <tr> <td>Real Part</td> <td>\(\text{Re}(\mathbf{q}) = \frac{1}{2}(\mathbf{q} + \mathbf{q}^{\ast}) = q_0\)</td> </tr> <tr> <td>Imaginary Part</td> <td>\(\text{Im}(\mathbf{q}) = \frac{1}{2}(\mathbf{q} - \mathbf{q}^{\ast}) = q_1i +q_2j + q_3k\)</td> </tr> <tr> <td>Quadrance and Norm</td> <td>\(\mathbf{q}\mathbf{q}^{\ast} = q_0^2 + q_1^2 + q_3^2 + q_4^2, \quad \Vert \mathbf{q} \Vert = \sqrt{\mathbf{q}\mathbf{q}^{\ast}}\)</td> </tr> <tr> <td>Inverse</td> <td>\(\mathbf{q}^{-1} = \frac{\mathbf{q}^{\ast}}{\mathbf{q}\mathbf{q}^{\ast}}\)</td> </tr> </tbody> </table> <h3 id="an-example-for-clarity">An Example for Clarity</h3> <p>Solve \((3i - 5j)(5k + 9i)\).</p> \[\begin{aligned} &amp; \Rightarrow 3i \times 5k + 3i \times 9i - 5j \times 5k - 5j \times 9i \\ &amp; \Rightarrow 15(ik) + 27(i^2) - 25(jk) - 45(ji) \\ &amp; \Rightarrow 15(-j) + 27(-1) - 25(i) - 45(-k) \\ &amp; \Rightarrow -27 -25i -15j + 45k \end{aligned}\] <h2 id="quaternion-models">Quaternion Models</h2> <p>There is more than one way to interpret quaternions. Some are more intuitive than others and we see three below.</p> <h3 id="four-dimensional-vectors">Four-Dimensional Vectors</h3> <p>A straightforward way of thinking about quaternions is to treat them as four-dimensional vectors.</p> \[\begin{aligned} \mathbf{p} &amp; = p_0 + p_1i + p_2j + p_3k = (p_0, p_1, p_2, p_3)^{\top} \\ \mathbf{q} &amp; = q_0 + q_1i + q_2j + q_3k = (q_0, q_1, q_2, q_3)^{\top} \end{aligned}\] <p>To avoid operator overload with the dot product, I introduce \(\star\) as the quaternion multiplication operator. Now, the quaternion multiplication between \(\mathbf{p}\) and \(\mathbf{q}\) can be written in matrix form as follows <d-footnote>See the following subsection for a full derivation of quaternion multiplication.</d-footnote></p> \[\begin{aligned} \mathbf{p} \star \mathbf{q} &amp;= \left[ \begin{matrix} p_0q_0 - p_1q_1 - p_2q_2 - p_3q_3 \\ p_0q_1 + p_1q_0 + p_2q_3 - p_3q_2 \\ p_0q_2 - p_1q_3 + p_2q_0 + p_3q_1 \\ p_0q_3 + p_1q_2 - p_2q_1 + p_3q_0 \end{matrix} \right] \\ &amp;= \left[ \begin{matrix}p_0 &amp; -p_1 &amp; -p_2 &amp; -p_3 \\ p_1 &amp; p_0 &amp; -p_3 &amp; -p_2 \\ p_2 &amp; p_3 &amp; p_0 &amp; -p_1 \\ p_3 &amp; -p_2 &amp; p_1 &amp; p_0\end{matrix} \right] \left[ \begin{matrix} q_0 \\ q_1 \\ q_2 \\ q_3 \end{matrix} \right] = \mathbf{P}. \mathbf{q} \end{aligned}\] <p>It can be convenient to represent quaternion multiplication using matrix multiplication. One can see that \(\mathbf{P}\) is an orthogonal matrix (\(\mathbf{P}^{\top} \mathbf{P} = I_4\)) in 4D Euclidean space. However, this model still lacks geometric interpretations in 3D.</p> <h3 id="two-by-two-matrices">Two-By-Two Matrices</h3> <p>Another way of thinking about quaternions is to treat them as products of simple \(2 \times 2\) matrices:</p> \[\begin{aligned} U &amp;:= \left[ \begin{matrix} 1 &amp; 0 \\ 0 &amp; 1 \end{matrix}\right], \; I := \left[ \begin{matrix} i &amp; 0 \\ 0 &amp; -i \end{matrix}\right], \\ J &amp;:= \left[ \begin{matrix} 0 &amp; 1 \\ -1 &amp; 0 \end{matrix}\right], \; K := \left[ \begin{matrix} 0 &amp; i \\ i &amp; 0 \end{matrix}\right] \end{aligned}\] \[I^2 = J^2 = K^2 = IJK = -U\] <p>Then we have</p> \[\begin{aligned} \mathbf{q} &amp; \approx Q = q_0U + q_1I + q_2J + q_3K \\ \mathbf{q^{\ast}} &amp; \approx adj(Q), \quad \mathbf{qq^{\ast}} \approx det(Q) \quad \mathbf{q}^{-1} \approx Q^{-1} \end{aligned}\] <p>As Prof. Schröcker says in his presentation<d-cite key="schroecker2022iros"></d-cite> - “When in doubt, think of matrix multiplication!”.</p> <h3 id="scalar--vector">Scalar + Vector</h3> <p>This is perhaps the most interesting model and from now on, we stick to this one. Recall from the comparisons with complex numbers, we define the real and imaginary parts of a quaternion as follows:</p> \[\begin{aligned} \text{Re}(\mathbf{q}) &amp; = \frac{1}{2}(\mathbf{q} + \mathbf{q}^{\ast}) = q_0 \quad \text{(Scalar Part)} \\ \text{Im}(\mathbf{q}) &amp; = \frac{1}{2}(\mathbf{q} - \mathbf{q}^{\ast}) = q_1i +q_2j + q_3k \quad \text{(Vector Part)} \end{aligned}\] <p>Assuming the standard orthonormal basis for \(\mathbb{R}^3\) is given by three unit vectors \(i=(1, 0, 0), j=(0, 1, 0), k=(0, 0, 1)\), quaternions can be seen as a sum of a \(q_0\) scalar and a vector \(\vec{q} = (q_1, q_2, q_3)\). Namely,</p> \[\mathbf{q} = q_0 + q_1i + q_2j + q_3k = q_0 + \vec{q}\] <p>Which makes \(\mathbb{H} = \mathbb{R} \oplus \mathbb{R}^3\). This has major geometric significance and you will soon see why. With this, it should be straightforward to derive addition and multiplication equations for two quaternions now.</p> <h2 id="quaternion-algebra">Quaternion Algebra</h2> <p>Let us derive the basic quaternion operations in Scalar + Vector form.</p> <h3 id="addition">Addition</h3> <p>Addition operation is rather straightforward from our understanding of scalar and vector additions.</p> \[\begin{aligned} \mathbf{p} + \mathbf{q} &amp; = (p_0 + q_0) + (p_1 + q_1)i + (p_2 + q_2)j + (p_3 + q_3)k \\ &amp; = (p_0 + q_0) + (\vec{p} + \vec{q}) \end{aligned}\] <h3 id="multiplication">Multiplication</h3> <p>Similar to addition, first, let us write out the multiplication of two quaternions the naive way and see if we can transform it to the Scalar + Vector form.</p> \[\begin{aligned} \mathbf{p} \star \mathbf{q} &amp;= (p_0 + p_1i + p_2j + p_3k) (q_0 + q_1i + q_2j + q_3k) \\ \\ &amp;= p_0q_0 + p_0(q_1i + q_2j + q_3k) + p_1q_0i \\ &amp;\quad + p_1i(q_1i + q_2j + q_3k) + p_2q_0j + p_2j(q_1i + q_2j + q_3k) \\ &amp;\quad + p_3q_0k + p_3k(q_1i + q_2j + q_3k) \\ \\ &amp;= p_0q_0 + p_0(q_1i + q_2j + q_3k) + p_1q_0i + p_1q_1(i^2) \\ &amp;\quad + p_1q_2(ij) + p1q_3(ik) + p_2q_0j + p_2q_1(ji) \\ &amp;\quad + p_2q_2(j^2) + p_2q_3(jk) + p_3q_0k + p_3q_1(ki) \\ &amp;\quad + p_3q_2(kj) + p_3q_3(k^2) \\ \\ &amp; = p_0q_0 + p_0(q_1i + q_2j + q_3k) + q_0(p_1i + p_2j+ p_3k) + p_1q_1(i^2) \\ &amp;\quad + p_1q_2(ij) + p_1q_3(ik) + p_2q_1(ji) + p_2q_2(j^2) \\ &amp;\quad + p_2q_3(jk) + p_3q_1(ki) + p_3q_2(kj) + p_3q_3(k^2) \\ \\ &amp;= p_0q_0 + p_0(q_1i + q_2j + q_3k) + q_0(p_1i + p_2j+ p_3k) + p_1q_1(-1) \\ &amp;\quad + p_1q_2(k) + p_1q_3(-j) + p_2q_1(-k) + p_2q_2(-1) \\ &amp;\quad + p_2q_3(i) + p_3q_1(j) + p_3q_2(-i) + p_3q_3(-1) \\ \\ &amp;= p_0q_0 + p_0\textcolor{orange}{(q_1i + q_2j + q_3k)} + q_0\textcolor{lime}{(p_1i + p_2j+ p_3k)} \\ &amp;\quad - \textcolor{cyan}{(p_1q_1+p_2q_2 +p_3q_3)} \\ &amp;\quad + \textcolor{pink}{(p_2q_3 - p_3q_2)i + (p_3q_1 - p_1q_3)j} + \textcolor{pink}{(p_1q_2 - p_2q_1)k} \hspace{5cm} \end{aligned}\] <p>Phew! Reminiscent of the Four-Dimensions model, one can see how quickly quaternion products in their naive form become cumbersome, unintuitive and inconvenient. Thankfully, the Scalar + Vector model allows us to rewrite the above equation in terms of dot and cross products as follows:</p> \[\mathbf{p} \star \mathbf{q} = p_0q_0 -\textcolor{cyan}{\vec{p} \cdot \vec{q}} + p_0\textcolor{orange}{\vec{q}} + q_0\textcolor{lime}{\vec{p}} + \textcolor{pink}{\vec{p} \times \vec{q}} \tag{1}\] <p>This is great! Finally, we reach a point where we can simply add scalars (\(p_0q_0 -\textcolor{cyan}{\vec{p} \cdot \vec{q}}\)) and 3D vectors (\(p_0\textcolor{orange}{\vec{q}} + q_0\textcolor{lime}{\vec{p}} + \textcolor{pink}{\vec{p} \times \vec{q}}\)) to compute quaternion multiplication. Eq. \(\text{(1)}\) allows us to make the following observations:</p> <ul> <li>The source of non-commutativity of quaternion multiplication is now clear, i.e., \(\vec{p} \times \vec{q} = - \vec{q} \times \vec{p}\)</li> <li>Two non-zero quaternions can commute only when their vector parts are linearly dependent (parallel) i.e., \(\mathbf{p} \star \mathbf{q} = \mathbf{q} \star \mathbf{p} \Leftrightarrow \vec{p} \times \vec{q} = 0 \hspace{50cm}\)</li> <li>Only scalars commute with all quaternions, i.e., \(c \star \mathbf{q} = cq_0 + c\vec{q} = c \mathbf{q} = \mathbf{q} \star c\).</li> <li>Since quaternion multiplication is just a combination of scalar-vector, dot and cross products in \(\mathbb{R}^3\) (Euclidean space), it <em>must</em> have some geometric significance, it <em>must</em> describe something independent of the values of \(\mathbf{p}\) and \(\mathbf{q}\). I discuss this in detail in <d-cite key="quat-rot-op2"></d-cite>.</li> </ul> <h3 id="complex-conjugate">Complex Conjugate</h3> <p>The <em>conjugate</em> of a quaternion \(\mathbf{q}\) is denoted by \(\mathbf{q^{\ast}}\) and defined as</p> \[\mathbf{q^{\ast}} = q_0 - q_1i - q_2j - q_3k = q_0 - \vec{q} \tag{2}\] <p>From the definition, it follows that:</p> \[\begin{aligned} (\mathbf{q^{\ast}})^{\ast} &amp; = q_0 - (-\vec{q}) = \mathbf{q} \\ \mathbf{q} + \mathbf{q^{\ast}} &amp; = 2q_0 \\ \mathbf{q} - \mathbf{q^{\ast}} &amp; = 2\vec{q} \\ \mathbf{q^{\ast}} \star \mathbf{q} &amp; = (q_0 - \vec{q}) \star (q_0 + \vec{q}) \\ &amp; = q_0q_0 - (-\vec{q}) \cdot \vec{q} + q_0\vec{q} \\ &amp; \quad + (-\vec{q})q_0 + (-\vec{q}) \times \vec{q} \quad \text{(from Eq. (1))} \\ &amp; = q_0^2 + \vec{q} \cdot \vec{q} \\ &amp; = q_0^2 + q_1^2 + q_2^2 + q_3^2 \quad \text{(Quadrance)} \\ &amp; = \mathbf{q} \star \mathbf{q^{\ast}} \quad \text{(Commutative)} \\ \end{aligned}\] <p>We can also easily derive the conjugate of a quaternion multiplication.</p> \[\begin{aligned} (\mathbf{p} \star \mathbf{q})^{\ast} &amp; = (p_0q_0 -\vec{p} \cdot \vec{q} + p_0\vec{q} + q_0\vec{p} + \vec{p} \times \vec{q})^{\ast} \quad \text{(from Eq. (1))}\\ &amp; = (p_0q_0 -\vec{p} \cdot \vec{q} - p_0\vec{q} - q_0\vec{p} - \vec{p} \times \vec{q}) \quad \text{(from Eq. (2))}\\ &amp; = (p_0q_0 -(-\vec{p}) \cdot (-\vec{q}) + p_0(-\vec{q}) \\ &amp; \quad + q_0(-\vec{p}) - (-\vec{p}) \times (-\vec{q})) \quad \text{(Since } a \times b = (-a \times -b)\text{)}\\ &amp; = (p_0q_0 -(-\vec{p}) \cdot (-\vec{q}) + p_0(-\vec{q}) \\ &amp; \quad + q_0(-\vec{p}) + (-\vec{q}) \times (-\vec{p})) \quad \text{(Since } a \times b = - (b \times a)\text{)}\\ &amp; = \mathbf{q}^{\ast} \star \mathbf{p}^{\ast} \hspace{10cm} \text{(3)} \end{aligned}\] <p>With Eq. \(\text{(3)}\), we can now easily find the conjugate of quaternion multiplications of more than two quaternions and you see that the above form extends. Given four quaternions \(\mathbf{q}_1, \mathbf{q}_2, \mathbf{q}_3\) and \(\mathbf{q}_4\), we have</p> \[\begin{aligned} (\mathbf{q}_1 \star \mathbf{q}_2 \star \mathbf{q}_3)^{\ast} &amp;= ((\mathbf{q}_1 \star \mathbf{q}_2) \star \mathbf{q}_3)^{\ast}\\ &amp;= \mathbf{q}_3^{\ast} \star (\mathbf{q}_1 \star \mathbf{q}_2)^{\ast} \quad \text{(from Eq. (3))}\\ &amp;= \mathbf{q}_3^{\ast} \star \mathbf{q}_2^{\ast} \star \mathbf{q}_1^{\ast} \\ (\mathbf{q}_1 \star \mathbf{q}_2 \star \mathbf{q}_3 \star \mathbf{q}_4)^{\ast} &amp;= ((\mathbf{q}_1 \star \mathbf{q}_2) \star (\mathbf{q}_3 \star \mathbf{q}_4))^{\ast} \\ &amp;= (\mathbf{q}_3 \star \mathbf{q}_4)^{\ast} \star (\mathbf{q}_1 \star \mathbf{q}_2) ^{\ast} \\ &amp;= \mathbf{q}_4^{\ast} \star \mathbf{q}_3^{\ast} \star \mathbf{q}_2^{\ast} \star \mathbf{q}_1^{\ast} \\ \end{aligned}\] <h3 id="norm">Norm</h3> <p>The squared <em>norm</em> of a quaternion \(\mathbf{q}\) is simply its quadrance</p> \[\begin{aligned} \Vert \mathbf{q} \Vert^2 &amp;= q_0^2 + q_1^2 + q_2^2 + q_3^2 \\ &amp;= \mathbf{q^{\ast}} \star \mathbf{q} = \mathbf{q} \star \mathbf{q^{\ast}} \\ &amp;= q_0^2 + (\vec{q} \cdot \vec{q}) \end{aligned}\] <p>Deriving an equation for the squared <em>norm</em> of the quaternion product is easier with quadrance.</p> \[\begin{aligned} \Vert \mathbf{p} \star \mathbf{q} \Vert^2 &amp;= (\mathbf{p} \star \mathbf{q}) \star (\mathbf{p} \star \mathbf{q})^{\ast} \\ &amp;= \mathbf{p} \star \mathbf{q} \star \mathbf{q}^{\ast} \star \mathbf{p}^{\ast} \quad \text{(from Eq. (3))}\\ &amp;= \mathbf{p} \star \Vert \mathbf{q} \Vert^2 \star \mathbf{p}^{\ast} \\ &amp;= \Vert \mathbf{q} \Vert^2 \mathbf{p} \star \mathbf{p}^{\ast} \quad \text{(Scalars commute with quaternions)} \\ &amp;= \Vert \mathbf{q} \Vert^2 \Vert \mathbf{p} \Vert^2 \hspace{12cm} \text{(4)}\\ \end{aligned}\] <p>This relationship extends to higher-order quaternion multiplication as well. Given \(n\) quaternions \(\{\mathbf{q}_1, \mathbf{q}_2, ... \mathbf{q}_n\}\), one could easily derive the following</p> \[\begin{aligned} \Vert \mathbf{q}_1 \star \mathbf{q}_2 \star \mathbf{q}_3 \Vert^2 &amp;= \Vert \mathbf{q}_1 \Vert^2 \Vert \mathbf{q}_2 \Vert^2 \Vert \mathbf{q}_3 \Vert^2 \\ \Vert \mathbf{q}_1 \star \mathbf{q}_2 \star \mathbf{q}_3 \star \mathbf{q}_4 \Vert^2 &amp;= \Vert \mathbf{q}_1 \Vert^2 \Vert \mathbf{q}_2 \Vert^2 \Vert \mathbf{q}_3 \Vert^2 \Vert \mathbf{q}_4 \Vert^2 \\ \Vert \mathbf{q}_1 \star ... \star \mathbf{q}_n \Vert^2 &amp;= \Vert \mathbf{q}_1 \Vert^2 ... \Vert \mathbf{q}_n \Vert^2 \hspace{8.5cm} \text{(5)} \end{aligned}\] <h3 id="inverse">Inverse</h3> <p>The <em>inverse</em> of a quaternion \(\mathbf{q}\) is defined as</p> \[\mathbf{q}^{-1} = \frac{\mathbf{q^{\ast}}}{\mathbf{q^{\ast}} \star \mathbf{q}} \quad \Rightarrow \mathbf{q}^{-1} \star \mathbf{q} = 1\] <h2 id="conclusion">Conclusion</h2> <p>In this article, we’ve delved into the seemingly peculiar realm of quaternion algebra. We started by introducing quaternions as a four-dimensional extension of complex numbers, consisting of a real part and three imaginary components. We looked into some commonly used quaternion models, and then explored the <em>Scalar + Vector</em> model’s arithmetic operations and properties, including addition, scalar and quaternion multiplication, complex conjugate, norm and inverse and discussed the source of non-commutativity of their multiplication. In my next article <d-cite key="quat-rot-op1"></d-cite>, we’ll take this understanding a step further by exploring how quaternions can be <em>easily</em> extended to form a rotation operator in \(\mathbb{R}^3\).</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/2023-10-21-quaternions.bib"></d-bibliography> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"acl21/acl21.github.io","data-repo-id":"R_kgDOM7Hzbw","data-category":"Comments","data-category-id":"DIC_kwDOM7Hzb84CjClc","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Akshay L Chandra. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id="></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>